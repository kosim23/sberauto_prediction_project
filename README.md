

---

# Сервис предсказания совершения целевого действия (SberAuto)

##  Описание проекта

Данный проект представляет собой сервис на базе машинного обучения для прогнозирования вероятности совершения целевого действия (совершение события типа `sub` или `buy`) пользователем в рамках одного визита на платформу «СберАвто».

Модель классификации обучена на данных о пользовательских сессиях и позволяет маркетологам оптимизировать рекламные кампании, понимая, какие факторы влияют на конверсию.

---

##  Технологический стек

* **Язык программирования:** Python 3.10+
* **ML-библиотеки:** Scikit-learn, Pandas, NumPy
* **API фреймворк:** FastAPI
* **Веб-сервер:** Uvicorn
* **Формат модели:** Pickle (.pkl)

---

##  Структура проекта

```text
sberauto_project/
├── app/
│   ├── __init__.py
│   └── main.py          # Исходный код API (FastAPI)
├── models/
│   └── sber_auto_model.pkl  # Обученная модель (Logistic Regression)
├── requirements.txt      # Список зависимостей
└── README.md             # Документация проекта

```

---

##  Инструкция по запуску

### 1. Установка зависимостей

Убедитесь, что вы находитесь в корневой папке проекта, и выполните:

```bash
pip install -r requirements.txt

```

### 2. Запуск веб-сервиса

Запустите сервер с помощью Uvicorn:

```bash
python -m uvicorn app.main:app --reload

```

Сервис будет доступен по адресу: `http://127.0.0.1:8000`

### 3. Тестирование и документация (Swagger)

Перейдите по адресу `http://127.0.0.1:8000/docs` для доступа к интерактивной документации API. Вы сможете отправить тестовый JSON-запрос и получить предсказание в реальном времени.

---

##  Описание модели и Feature Engineering

В ходе разработки были выполнены следующие шаги:

1. **Выбор модели:** Использована **Логистическая регрессия (Logistic Regression)**. Она обеспечивает высокую скорость работы API и отличную интерпретируемость признаков.
2. **Генерация признаков (Feature Engineering):**
* `visit_month` и `day_of_week`: выделение месяца и дня недели из даты визита.
* `is_weekend`: бинарный признак (1 — если визит совершен в выходной день).
* `is_social`: признак принадлежности источника (`utm_source`) к социальным сетям.
* `screen_width` / `screen_height`: парсинг разрешения экрана для определения типа устройства.


3. **Качество модели:** Модель достигла целевого значения метрики **ROC-AUC > 0.65** на тестовой выборке.

---

##  Особенности API

* **Скорость:** Время отклика на запрос предсказания составляет менее **0.1 сек**, что значительно быстрее лимита в 3 секунды.
* **Масштабируемость:** Архитектура на FastAPI позволяет легко развернуть сервис в Docker-контейнере или в облачных средах.
* **Интерпретируемость:** Параметры модели позволяют четко объяснить, как изменение рекламного канала или времени посещения влияет на итоговое предсказание.

---

